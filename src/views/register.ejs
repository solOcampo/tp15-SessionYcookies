<!DOCTYPE html>
<html lang="es">

<% if (locals.usuario) { %>
	<body style="background-color:<%= locals.usuario.color %>" >
<% } else { %>
	<body>
	<% } %> 
	<%- include('./partials/head',{ tittle: 'Register' }) %>

		<%- include('./partials/header') %>
			<main>
				<% if (locals.usuario) { %>
					<h3>Hola <%= locals.usuario.name %>, elegiste el color: <%= locals.usuario.color %>, tu email es:
								<%= locals.usuario.email %> y tu edad es <%= locals.usuario.edad %>
					</h3>
					<form action="/user/destroy" method="post">
						<div class="col-12">
							<button type="submit" class="btn btn-primary">Eliminar color</button>
						</div>
					</form>
					<% } else {%>
						<h1>Registrate:</h1>
						<form action="/user/register" method="post">
							<div class="col-12">
								<label for="name" class="form-label">Ingrese su nombre</label>
								<input type="text" name="name" class="form-control" id="name"
									placeholder="Cosme Fulanito" value=<%=(locals.old && old.name) ? old.name : null %>
								>
								<small>
									<%= (locals.errors && errors.name) ? errors.name.msg : 'Este campo es obligatorio'
										%>
								</small>
							</div>
							<div class="col-12">
								<label for="color" class="form-label">Seleccione un color de su agrado</label>
								<select id="color" name="color" class="form-select">
									<option value="" selected hidden>Choose...</option>
									<option value="gray" <%=(locals.old && old.color==='gray' ) ? 'selected' : null %>
										>Gris
									</option>
									<option value="white" <%=(locals.old && old.color==='white' ) ? 'selected' : null %>
										>Blanco</option>
									<option value="orange" <%=(locals.old && old.color==='orange' ) ? 'selected' : null
										%>
										>Naranja</option>
								</select>
								<small>
									<%= (locals.errors && errors.color) ? errors.color.msg : 'Este campo es obligatorio'
										%>
								</small>
							</div>
							<div class="col-12">
								<label for="email" class="form-label">Ingrese su email</label>
								<input type="text" name="email" class="email" id="email"
									placeholder="email@gmal.com" value=<%=(locals.old && old.email) ? old.email : null
									%>>
								<small>
									<%= (locals.errors && errors.email) ? errors.email.msg : 'Este campo es obligatorio'
										%>
								</small>
							</div>
							<div class="col-12">
								<label for="edad" class="form-label">Ingrese su edad</label>
								<input type="text" name="edad" class="form-control" id="edad" placeholder="30"
									value=<%=(locals.old && old.edad) ? old.edad : null %>>
								<small>
									<%= (locals.errors && errors.edad) ? errors.edad.msg : 'Este campo es obligatorio'
										%>
								</small>
							</div>
							<div class="col-12">
								<div class="form-check">
									<input class="form-check-input" name="recordar" type="checkbox" id="gridCheck">
									<label class="form-check-label" for="gridCheck">
										Recordar color
									</label>
								</div>
							</div>
							<div class="col-12">
								<button type="submit" class="btn btn-primary">Enviar</button>
							</div>
						</form>
						<% } %>
			</main>
</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
	integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
	crossorigin="anonymous"></script>

</html>